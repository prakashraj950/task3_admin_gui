(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{40:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),i=a(32),s=a.n(i),r=a(4),d=a(5),o=a(7),l=a(6),j=(a(40),a(14)),h=a(2),b=a(16),u=a.n(b),O=a(18),p=a(33),x=a(8),m=a(9),g=a.n(m),v=a(0),f=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onChangehandle=function(e){var t=e.target.name;n.setState(Object(p.a)({},t,e.target.value))},n.login=Object(O.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("LOG"),e.next=3,g.a.post(x.ACCESS_POINT+"/login",{domain_name:n.state.domain_name,password:n.state.password}).then((function(e){console.log(e),"success"===e.data.status&&(n.props.setAppState(n.state.domain_name,n.state.password),n.setState({step:2}))}));case 3:case"end":return e.stop()}}),e)}))),n.state={step:1,domain_name:"",password:""},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state,t=e.step,a=e.domain_name,n=e.password;switch(t){case 1:return Object(v.jsxs)("div",{children:[Object(v.jsx)("h2",{children:"Welcome"}),Object(v.jsxs)("div",{children:["Domain",Object(v.jsx)("input",{name:"domain_name",placeholder:"domain_name",value:a,type:"text",onChange:this.onChangehandle}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"PASSWORD",Object(v.jsx)("input",{name:"password",type:"password",value:n,onChange:this.onChangehandle}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("button",{onClick:this.login,children:"Login"})]})]});case 2:return Object(v.jsx)(h.a,{to:"AdminList"})}}}]),a}(n.Component),_=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("h2",{children:"Admin"}),Object(v.jsx)("p",{children:"This is Admin page"}),Object(v.jsxs)("ul",{children:[Object(v.jsx)("li",{children:Object(v.jsx)(j.b,{to:"admin",children:"insert ads"})}),Object(v.jsx)("li",{children:Object(v.jsx)(j.b,{to:"deletePage",children:"manage ads"})}),Object(v.jsx)("li",{children:Object(v.jsx)(j.b,{to:"ServedData",children:"Served data"})})]})]})}}]),a}(n.Component),C=a(35),S=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onChangehandle=function(e){console.log(e.target.files);var t,a=e.target.files,c=e.target.name,i=n.state.data,s=Object(C.a)(a);try{for(s.s();!(t=s.n()).done;){var r=t.value;i.append(c,r)}}catch(d){s.e(d)}finally{s.f()}n.setState({data:i})},n.upload=function(){g.a.post(x.ACCESS_POINT+"/upload",n.state.data)},n.state={data:new FormData,labelData:{}},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state.photo;return Object(v.jsxs)("div",{children:[Object(v.jsx)("img",{src:e,width:"200",height:"200"}),Object(v.jsx)("input",{type:"file",name:"file",multiple:!0,accept:"image/gif, image/png, image/jpeg, image/jpg",onChange:this.onChangehandle}),Object(v.jsx)("button",{onClick:this.upload,children:"upload new ad"})]})}}]),a}(n.Component),y=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onClickhandle=function(e){return function(){n.props.selectId(e),n.setState({step:2})}},n.state={data:[],step:1},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get(x.ACCESS_POINT+"/getads").then((function(t){e.setState({data:t.data})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.step;console.log(a);var c=a.map((function(t){return Object(v.jsxs)("div",{onClick:e.onClickhandle(t.id),children:[Object(v.jsx)("img",{src:x.ACCESS_POINT+"/ads/".concat(t.file),width:"150",height:"150"}),Object(v.jsxs)("h4",{children:["id:",t.id]})]})}));switch(n){case 1:return Object(v.jsx)("div",{children:c});case 2:return Object(v.jsx)(h.a,{to:"delete"})}}}]),a}(n.Component),k=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onChangehandle=function(e){return function(t){var a=t.target.value,c=n.state.data;c[e]=a,n.setState({data:c})}},n.submit=function(){var e=localStorage.getItem("domain_name");g.a.post(x.ACCESS_POINT+"/custom",{data:n.state.data,domain_name:e}),n.props.getdata()},n.state={data:{Ad_id:n.props.id}},n}return Object(d.a)(a,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"pages",Object(v.jsxs)("select",{onChange:this.onChangehandle("page_id"),children:[Object(v.jsx)("option",{value:1,children:"Blog/javascript"}),Object(v.jsx)("option",{value:2,children:"Blog/diwali"}),Object(v.jsx)("option",{value:3,children:"Blog/prakash"}),Object(v.jsx)("option",{value:4,children:"Blog/react"}),Object(v.jsx)("option",{value:5,children:"about"}),Object(v.jsx)("option",{value:6,children:"RegisterPage"}),Object(v.jsx)("option",{value:7,children:"services"}),Object(v.jsx)("option",{value:8,children:"contact"}),Object(v.jsx)("option",{value:9,children:"Bloglist"}),Object(v.jsx)("option",{value:10,children:"Home"}),Object(v.jsx)("option",{value:11,children:"Loginpage"})]})]}),Object(v.jsx)("button",{onClick:this.submit,children:"add"})]})}}]),a}(n.Component),I=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).getdata=function(){g.a.post(x.ACCESS_POINT+"/getdata",{Ad_id:n.props.selectedId,domain_name:localStorage.getItem("domain_name")}).then((function(e){e.data.ads_row.file=x.ACCESS_POINT+"/ads/".concat(e.data.ads_row.file),n.setState({ads:e.data.ads_row,custom:e.data.custom_row,label:e.data.label_row})}))},n.delete=Object(O.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post(x.ACCESS_POINT+"/delete",{id:n.state.ads.id,Labeltable:"ad_label",Customtable:"ad_custom"});case 2:n.setState({step:2});case 3:case"end":return e.stop()}}),e)}))),n.adHandle=function(e){return function(t){var a=t.target.value,c=n.state.labelData;c[e]=a,n.setState({labelData:c})}},n.submit=function(){g.a.post(x.ACCESS_POINT+"/label",{data:n.state.labelData}),n.getdata()},n.state={step:1,ads:{id:n.props.selectedId,file:""},custom:[],label:[],labelData:{Ad_id:n.props.selectedId}},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.getdata()}},{key:"render",value:function(){var e=this.state,t=e.ads,a=e.custom,n=e.label,c=e.step,i=Object(v.jsx)("tr",{children:Object(v.jsx)("td",{children:Object(v.jsx)("img",{src:t.file})})}),s=a.map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.Domain_id}),Object(v.jsx)("td",{children:e.page_id})]})})),r=n.map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.age_group}),Object(v.jsx)("td",{children:e.city})]})}));switch(c){case 1:return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"ID"}),"  ",Object(v.jsx)("h2",{children:t.id}),Object(v.jsxs)("table",{children:[Object(v.jsx)("tr",{children:Object(v.jsx)("th",{children:"ads"})}),i]}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("h2",{children:"ad custom"}),Object(v.jsx)(k,{id:this.state.ads.id,getdata:this.getdata}),Object(v.jsxs)("table",{children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Domain_id"}),Object(v.jsx)("th",{children:"page_id"})]}),s]}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("h1",{children:"ad Label"}),Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"age_group",Object(v.jsxs)("select",{name:"age_group",onChange:this.adHandle("age_group"),children:[Object(v.jsx)("option",{name:"city",value:1,children:"1-18"}),Object(v.jsx)("option",{name:"city",value:2,children:"18-25"}),Object(v.jsx)("option",{name:"city",value:3,children:"25-40"})]})]}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{children:["CITY",Object(v.jsxs)("select",{name:"city",onChange:this.adHandle("city"),children:[Object(v.jsx)("option",{name:"city",value:"chennai",children:"chennai"}),Object(v.jsx)("option",{name:"city",value:"coimbatore",children:"coimbatore"}),Object(v.jsx)("option",{name:"city",value:"nellai",children:"nellai"})]})]}),Object(v.jsx)("button",{onClick:this.submit,children:"add"})]}),Object(v.jsxs)("table",{children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"age_group"}),Object(v.jsx)("th",{children:"city"})]}),r]}),Object(v.jsx)("button",{onClick:this.delete,children:"Delete"})]});case 2:return Object(v.jsx)(h.a,{to:"deletePage"})}}}]),a}(n.Component),w=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).search=function(){console.log(n.state.formdata);var e=n.filterdata(n.state.formdata);console.log(e),g.a.post(x.ACCESS_POINT+"/servedata",{data:e}).then((function(e){console.log(e.data),n.setState({data:e.data})}))},n.onChangeHandle=function(e){return function(t){var a=t.target.value,c=n.state.formdata;c[e]=a,n.setState({formdata:c})}},n.onCheck=function(e){var t=n.state.formdata;e.target.checked?t[e.target.name]=1:t[e.target.name]=0},n.datehandle=function(e){var t=n.state.formdata,a=function(e,t,a){function n(t){return new Intl.DateTimeFormat("en",t).format(e)}return t.map(n).join(a)}(e.target.valueAsDate,[{year:"numeric"},{month:"2-digit"},{day:"2-digit"}],"-");t[e.target.name]=a,n.setState({formdata:t})},n.state={formdata:{},data:[]},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.search()}},{key:"filterdata",value:function(e){var t={domain_name:localStorage.getItem("domain_name")};return"age_group"in e&&""!==e.age_group&&(t.age_group=e.age_group),"city"in e&&""!==e.city&&(t.city=e.city),"from_date"in e&&""!==e.from_date&&(t.from_date=e.from_date),"to_date"in e&&""!==e.to_date&&(t.to_date=e.to_date),"clicked"in e&&""!==e.clicked&&(t.clicked=e.clicked),t}},{key:"render",value:function(){var e=this.state.data.map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.id}),Object(v.jsx)("td",{children:e.Ad_id}),Object(v.jsx)("td",{children:e.domain_id}),Object(v.jsx)("td",{children:e.page_id}),Object(v.jsx)("td",{children:e.user}),Object(v.jsx)("td",{children:e.age_group}),Object(v.jsx)("td",{children:e.city}),Object(v.jsx)("td",{children:e.served_time}),Object(v.jsx)("td",{children:e.ip_address}),Object(v.jsx)("td",{children:e.clicked})]},e.id)}));return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("input",{type:"checkbox",name:"clicked",onChange:this.onCheck}),"Clicked report age_group",Object(v.jsxs)("select",{name:"age_group",onChange:this.onChangeHandle("age_group"),children:[Object(v.jsx)("option",{value:1,children:"1-18"}),Object(v.jsx)("option",{value:2,children:"18-25"}),Object(v.jsx)("option",{value:3,children:"25-40"})]}),"CITY",Object(v.jsxs)("select",{name:"city",onChange:this.onChangeHandle("city"),children:[Object(v.jsx)("option",{name:"city",value:"chennai",children:"chennai"}),Object(v.jsx)("option",{name:"city",value:"coimbatore",children:"coimbatore"}),Object(v.jsx)("option",{name:"city",value:"nellai",children:"nellai"})]}),"from date ",Object(v.jsx)("input",{type:"date",name:"from_date",onChange:this.datehandle}),"to date ",Object(v.jsx)("input",{type:"date",name:"to_date",onChange:this.datehandle}),Object(v.jsx)("button",{onClick:this.search,children:"search"})]}),Object(v.jsxs)("table",{children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"id"}),Object(v.jsx)("th",{children:"Ad id"}),Object(v.jsx)("th",{children:"domain id"}),Object(v.jsx)("th",{children:"page id"}),Object(v.jsx)("th",{children:"user"}),Object(v.jsx)("th",{children:"age group"}),Object(v.jsx)("th",{children:"city"}),Object(v.jsx)("th",{children:"served time"}),Object(v.jsx)("th",{children:"ip address"}),Object(v.jsx)("th",{children:"clicked"})]}),e]})]})}}]),a}(n.Component);var A=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).setAppState=function(e,t){localStorage.setItem("domain_name",e),localStorage.setItem("password",t)},e.selectId=function(t){console.log(t),e.setState({selectedId:t})},e.state={selectedId:""},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(j.a,{children:Object(v.jsxs)("div",{children:[Object(v.jsx)(h.b,{exact:!0,path:"/",children:Object(v.jsx)(f,{setAppState:this.setAppState})}),Object(v.jsx)(h.b,{path:"/AdminList",component:_}),Object(v.jsx)(h.b,{path:"/admin",component:S}),Object(v.jsx)(h.b,{path:"/deletePage",children:Object(v.jsx)(y,{selectId:this.selectId})}),Object(v.jsx)(h.b,{path:"/delete",children:Object(v.jsx)(I,{selectedId:this.state.selectedId})}),Object(v.jsx)(h.b,{path:"/ServedData",component:w})]})})})}}]),a}(c.a.Component),D=document.getElementById("root");s.a.render(Object(v.jsx)(n.StrictMode,{children:Object(v.jsx)(A,{})}),D)},8:function(e,t){e.exports={ACCESS_POINT:"https://mysql-server2.herokuapp.com"}}},[[66,1,2]]]);
//# sourceMappingURL=main.d786a594.chunk.js.map
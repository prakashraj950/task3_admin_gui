(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{40:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(32),i=a.n(s),r=a(4),o=a(5),d=a(7),l=a(6),j=(a(40),a(14)),h=a(2),b=a(16),u=a.n(b),O=a(18),p=a(33),x=a(8),m=a(9),g=a.n(m),v=a(0),f=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var c;return Object(r.a)(this,a),(c=t.call(this,e)).onChangehandle=function(e){var t=e.target.name;c.setState(Object(p.a)({},t,e.target.value))},c.login=Object(O.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("LOG"),e.next=3,g.a.post(x.ACCESS_POINT+"/login",{domain_name:c.state.domain_name,password:c.state.password}).then((function(e){console.log(e),"success"===e.data.status&&(c.props.setAppState(c.state.domain_name,c.state.password),c.setState({step:2}))}));case 3:case"end":return e.stop()}}),e)}))),c.state={step:1,domain_name:"",password:""},c}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.step,a=e.domain_name,c=e.password;switch(t){case 1:return Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("h2",{children:"Welcome"}),Object(v.jsx)("div",{className:"row",style:{display:"flex",justifyContent:"center"},children:Object(v.jsxs)("div",{class:"input-group col-sm-3",children:["Domain",Object(v.jsx)("input",{className:"form-control",name:"domain_name",placeholder:"domain_name",value:a,type:"text",onChange:this.onChangehandle})]})}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("div",{className:"row",style:{display:"flex",justifyContent:"center"},children:Object(v.jsxs)("div",{class:"input-group",children:["PASSWORD",Object(v.jsx)("input",{className:"form-control",name:"password",type:"password",value:c,onChange:this.onChangehandle})]})}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("button",{className:"btn btn-primary",onClick:this.login,children:"Login"})]});case 2:return Object(v.jsx)(h.a,{to:"AdminList"})}}}]),a}(c.Component),C=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("h2",{children:"Admin"}),Object(v.jsx)("p",{children:"This is Admin page"}),Object(v.jsxs)("ul",{class:"list-group",children:[Object(v.jsx)("li",{class:"list-group-item",children:Object(v.jsx)(j.b,{to:"admin",children:"insert ads"})}),Object(v.jsx)("li",{class:"list-group-item",children:Object(v.jsx)(j.b,{to:"deletePage",children:"manage ads"})}),Object(v.jsx)("li",{class:"list-group-item",children:Object(v.jsx)(j.b,{to:"ServedData",children:"Served data"})})]})]})}}]),a}(c.Component),_=a(35),y=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var c;return Object(r.a)(this,a),(c=t.call(this,e)).onChangehandle=function(e){console.log(e.target.files);var t,a=e.target.files,n=e.target.name,s=c.state.data,i=Object(_.a)(a);try{for(i.s();!(t=i.n()).done;){var r=t.value;s.append(n,r)}}catch(o){i.e(o)}finally{i.f()}c.setState({data:s})},c.upload=function(){g.a.post(x.ACCESS_POINT+"/upload",c.state.data)},c.state={data:new FormData,labelData:{}},c}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.photo;return Object(v.jsxs)("div",{children:[Object(v.jsx)("img",{src:e,width:"200",height:"200"}),Object(v.jsx)("input",{type:"file",name:"file",multiple:!0,accept:"image/gif, image/png, image/jpeg, image/jpg",onChange:this.onChangehandle}),Object(v.jsx)("button",{onClick:this.upload,children:"upload new ad"})]})}}]),a}(c.Component),S=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var c;return Object(r.a)(this,a),(c=t.call(this,e)).onClickhandle=function(e){return function(){c.props.selectId(e),c.setState({step:2})}},c.state={data:[],step:1},c}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get(x.ACCESS_POINT+"/getads").then((function(t){e.setState({data:t.data})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,c=t.step;console.log(a);var n=a.map((function(t){return Object(v.jsxs)("div",{onClick:e.onClickhandle(t.id),children:[Object(v.jsx)("img",{src:x.ACCESS_POINT+"/ads/".concat(t.file),width:"150",height:"150"}),Object(v.jsxs)("h4",{children:["id:",t.id]})]})}));switch(c){case 1:return Object(v.jsx)("div",{children:n});case 2:return Object(v.jsx)(h.a,{to:"delete"})}}}]),a}(c.Component),k=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var c;return Object(r.a)(this,a),(c=t.call(this,e)).onChangehandle=function(e){return function(t){var a=t.target.value,n=c.state.data;n[e]=a,c.setState({data:n})}},c.submit=function(){var e=localStorage.getItem("domain_name");g.a.post(x.ACCESS_POINT+"/custom",{data:c.state.data,domain_name:e}),c.props.getdata()},c.state={data:{Ad_id:c.props.id}},c}return Object(o.a)(a,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"pages",Object(v.jsxs)("select",{onChange:this.onChangehandle("page_id"),children:[Object(v.jsx)("option",{value:1,children:"Blog/javascript"}),Object(v.jsx)("option",{value:2,children:"Blog/diwali"}),Object(v.jsx)("option",{value:3,children:"Blog/prakash"}),Object(v.jsx)("option",{value:4,children:"Blog/react"}),Object(v.jsx)("option",{value:5,children:"about"}),Object(v.jsx)("option",{value:6,children:"RegisterPage"}),Object(v.jsx)("option",{value:7,children:"services"}),Object(v.jsx)("option",{value:8,children:"contact"}),Object(v.jsx)("option",{value:9,children:"Bloglist"}),Object(v.jsx)("option",{value:10,children:"Home"}),Object(v.jsx)("option",{value:11,children:"Loginpage"})]})]}),Object(v.jsx)("button",{onClick:this.submit,children:"add"})]})}}]),a}(c.Component),w=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var c;return Object(r.a)(this,a),(c=t.call(this,e)).getdata=function(){g.a.post(x.ACCESS_POINT+"/getdata",{Ad_id:c.props.selectedId,domain_name:localStorage.getItem("domain_name")}).then((function(e){e.data.ads_row.file=x.ACCESS_POINT+"/ads/".concat(e.data.ads_row.file),c.setState({ads:e.data.ads_row,custom:e.data.custom_row,label:e.data.label_row})}))},c.delete=Object(O.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post(x.ACCESS_POINT+"/delete",{id:c.state.ads.id,Labeltable:"ad_label",Customtable:"ad_custom"});case 2:c.setState({step:2});case 3:case"end":return e.stop()}}),e)}))),c.adHandle=function(e){return function(t){var a=t.target.value,n=c.state.labelData;n[e]=a,c.setState({labelData:n})}},c.submit=function(){g.a.post(x.ACCESS_POINT+"/label",{data:c.state.labelData}),c.getdata()},c.state={step:1,ads:{id:c.props.selectedId,file:""},custom:[],label:[],labelData:{Ad_id:c.props.selectedId}},c}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getdata()}},{key:"render",value:function(){var e=this.state,t=e.ads,a=e.custom,c=e.label,n=e.step,s=Object(v.jsx)("tr",{children:Object(v.jsx)("td",{children:Object(v.jsx)("img",{src:t.file})})}),i=a.map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.Domain_id}),Object(v.jsx)("td",{children:e.page_id})]})})),r=c.map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.age_group}),Object(v.jsx)("td",{children:e.city})]})}));switch(n){case 1:return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"ID"}),"  ",Object(v.jsx)("h2",{children:t.id}),Object(v.jsxs)("table",{children:[Object(v.jsx)("tr",{children:Object(v.jsx)("th",{children:"ads"})}),s]}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("h2",{children:"ad custom"}),Object(v.jsx)(k,{id:this.state.ads.id,getdata:this.getdata}),Object(v.jsxs)("table",{children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Domain_id"}),Object(v.jsx)("th",{children:"page_id"})]}),i]}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("h1",{children:"ad Label"}),Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"age_group",Object(v.jsxs)("select",{name:"age_group",onChange:this.adHandle("age_group"),children:[Object(v.jsx)("option",{name:"city",value:1,children:"1-18"}),Object(v.jsx)("option",{name:"city",value:2,children:"18-25"}),Object(v.jsx)("option",{name:"city",value:3,children:"25-40"})]})]}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{children:["CITY",Object(v.jsxs)("select",{name:"city",onChange:this.adHandle("city"),children:[Object(v.jsx)("option",{name:"city",value:"chennai",children:"chennai"}),Object(v.jsx)("option",{name:"city",value:"coimbatore",children:"coimbatore"}),Object(v.jsx)("option",{name:"city",value:"nellai",children:"nellai"})]})]}),Object(v.jsx)("button",{onClick:this.submit,children:"add"})]}),Object(v.jsxs)("table",{children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"age_group"}),Object(v.jsx)("th",{children:"city"})]}),r]}),Object(v.jsx)("button",{onClick:this.delete,children:"Delete"})]});case 2:return Object(v.jsx)(h.a,{to:"deletePage"})}}}]),a}(c.Component),I=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var c;return Object(r.a)(this,a),(c=t.call(this,e)).search=function(){console.log(c.state.formdata);var e=c.filterdata(c.state.formdata);console.log(e),g.a.post(x.ACCESS_POINT+"/servedata",{data:e}).then((function(e){console.log(e.data),c.setState({data:e.data})}))},c.onChangeHandle=function(e){return function(t){var a=t.target.value,n=c.state.formdata;n[e]=a,c.setState({formdata:n})}},c.onCheck=function(e){var t=c.state.formdata;e.target.checked?t[e.target.name]=1:t[e.target.name]=0},c.datehandle=function(e){var t=c.state.formdata,a=function(e,t,a){function c(t){return new Intl.DateTimeFormat("en",t).format(e)}return t.map(c).join(a)}(e.target.valueAsDate,[{year:"numeric"},{month:"2-digit"},{day:"2-digit"}],"-");t[e.target.name]=a,c.setState({formdata:t})},c.state={formdata:{},data:[]},c}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.search()}},{key:"filterdata",value:function(e){var t={domain_name:localStorage.getItem("domain_name")};return"age_group"in e&&""!==e.age_group&&(t.age_group=e.age_group),"city"in e&&""!==e.city&&(t.city=e.city),"from_date"in e&&""!==e.from_date&&(t.from_date=e.from_date),"to_date"in e&&""!==e.to_date&&(t.to_date=e.to_date),"clicked"in e&&""!==e.clicked&&(t.clicked=e.clicked),t}},{key:"render",value:function(){var e=this.state.data.map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{scope:"row",children:e.id}),Object(v.jsx)("td",{children:e.Ad_id}),Object(v.jsx)("td",{children:e.domain_id}),Object(v.jsx)("td",{children:e.page_id}),Object(v.jsx)("td",{children:e.user}),Object(v.jsx)("td",{children:e.age_group}),Object(v.jsx)("td",{children:e.city}),Object(v.jsx)("td",{children:e.served_time}),Object(v.jsx)("td",{children:e.ip_address}),Object(v.jsx)("td",{children:e.clicked})]},e.id)}));return Object(v.jsxs)("div",{class:"container-fluid",children:[Object(v.jsx)("div",{class:"row",children:Object(v.jsxs)("div",{class:"col-sm-12",children:[Object(v.jsxs)("div",{class:"col-sm-2",children:[Object(v.jsx)("input",{type:"checkbox",class:"form-control",name:"clicked",onChange:this.onCheck}),"Clicked report"]}),Object(v.jsxs)("div",{class:"col-sm-2",children:["age_group",Object(v.jsxs)("select",{class:"form-control",name:"age_group",onChange:this.onChangeHandle("age_group"),children:[Object(v.jsx)("option",{value:1,children:"1-18"}),Object(v.jsx)("option",{value:2,children:"18-25"}),Object(v.jsx)("option",{value:3,children:"25-40"})]})]}),Object(v.jsxs)("div",{class:"col-sm-2",children:["CITY",Object(v.jsxs)("select",{class:"form-control",name:"city",onChange:this.onChangeHandle("city"),children:[Object(v.jsx)("option",{name:"city",value:"chennai",children:"chennai"}),Object(v.jsx)("option",{name:"city",value:"coimbatore",children:"coimbatore"}),Object(v.jsx)("option",{name:"city",value:"nellai",children:"nellai"})]})]}),Object(v.jsxs)("div",{class:"col-sm-2",children:["from date ",Object(v.jsx)("input",{class:"form-control",type:"date",name:"from_date",onChange:this.datehandle})]}),Object(v.jsxs)("div",{class:"col-sm-1",children:["to date ",Object(v.jsx)("input",{class:"form-control",type:"date",name:"to_date",onChange:this.datehandle})]}),Object(v.jsxs)("div",{class:"col-sm-2",children:[" ",Object(v.jsx)("button",{class:"btn btn-primary",onClick:this.search,children:"search"})]})]})}),Object(v.jsxs)("table",{class:"table table-hover table-bordered",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"col",children:"id"}),Object(v.jsx)("th",{scope:"col",children:"Ad id"}),Object(v.jsx)("th",{scope:"col",children:"domain id"}),Object(v.jsx)("th",{scope:"col",children:"page id"}),Object(v.jsx)("th",{scope:"col",children:"user"}),Object(v.jsx)("th",{scope:"col",children:"age group"}),Object(v.jsx)("th",{scope:"col",children:"city"}),Object(v.jsx)("th",{scope:"col",children:"served time"}),Object(v.jsx)("th",{scope:"col",children:"ip address"}),Object(v.jsx)("th",{scope:"col",children:"clicked"})]})}),Object(v.jsx)("tbody",{children:e})]})]})}}]),a}(c.Component);var A=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).setAppState=function(e,t){localStorage.setItem("domain_name",e),localStorage.setItem("password",t)},e.selectId=function(t){console.log(t),e.setState({selectedId:t})},e.state={selectedId:""},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(j.a,{children:Object(v.jsxs)("div",{children:[Object(v.jsx)(h.b,{exact:!0,path:"/",children:Object(v.jsx)(f,{setAppState:this.setAppState})}),Object(v.jsx)(h.b,{path:"/AdminList",component:C}),Object(v.jsx)(h.b,{path:"/admin",component:y}),Object(v.jsx)(h.b,{path:"/deletePage",children:Object(v.jsx)(S,{selectId:this.selectId})}),Object(v.jsx)(h.b,{path:"/delete",children:Object(v.jsx)(w,{selectedId:this.state.selectedId})}),Object(v.jsx)(h.b,{path:"/ServedData",component:I})]})})})}}]),a}(n.a.Component),D=document.getElementById("root");i.a.render(Object(v.jsx)(c.StrictMode,{children:Object(v.jsx)(A,{})}),D)},8:function(e,t){e.exports={ACCESS_POINT:"http://localhost:5000"}}},[[66,1,2]]]);
//# sourceMappingURL=main.c3c2ade5.chunk.js.map
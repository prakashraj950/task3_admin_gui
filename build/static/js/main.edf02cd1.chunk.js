(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{39:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),i=a(30),s=a.n(i),d=a(4),r=a(5),o=a(7),l=a(6),j=(a(39),a(13)),h=a(2),b=a(31),u=a(8),O=a.n(u),p=a(0),x=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).onChangehandle=function(e){var t=e.target.name;n.setState(Object(b.a)({},t,e.target.value))},n.login=function(){console.log("LOG"),O.a.post("http://localhost:8000/login",{domain_name:n.state.domain_name,password:n.state.password}).then((function(e){console.log(e),"success"===e.data.status&&(n.props.setAppState(n.state.domain_name,n.state.password),n.setState({step:2}))}))},n.state={step:1,domain_name:"",password:""},n}return Object(r.a)(a,[{key:"render",value:function(){var e=this.state,t=e.step,a=e.domain_name,n=e.password;switch(t){case 1:return Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"Welcome"}),Object(p.jsxs)("div",{children:["Domain",Object(p.jsx)("input",{name:"domain_name",placeholder:"domain_name",value:a,type:"text",onChange:this.onChangehandle}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),"PASSWORD",Object(p.jsx)("input",{name:"password",type:"password",value:n,onChange:this.onChangehandle}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)("button",{onClick:this.login,children:"Login"})]})]});case 2:return Object(p.jsx)(h.a,{to:"AdminList"})}}}]),a}(n.Component),m=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"Admin"}),Object(p.jsx)("p",{children:"This is Admin page"}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:Object(p.jsx)(j.b,{to:"admin",children:"insert ads"})}),Object(p.jsx)("li",{children:Object(p.jsx)(j.b,{to:"deletePage",children:"manage ads"})}),Object(p.jsx)("li",{children:Object(p.jsx)(j.b,{to:"ServedData",children:"Served data"})})]})]})}}]),a}(n.Component),g=a(34),v=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).onChangehandle=function(e){console.log(e.target.files);var t,a=e.target.files,c=e.target.name,i=n.state.data,s=Object(g.a)(a);try{for(s.s();!(t=s.n()).done;){var d=t.value;i.append(c,d)}}catch(r){s.e(r)}finally{s.f()}n.setState({data:i})},n.upload=function(){O.a.post("http://localhost:8000/upload",n.state.data)},n.state={data:new FormData,labelData:{}},n}return Object(r.a)(a,[{key:"render",value:function(){var e=this.state.photo;return Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{src:e,width:"200",height:"200"}),Object(p.jsx)("input",{type:"file",name:"file",multiple:!0,accept:"image/gif, image/png, image/jpeg, image/jpg",onChange:this.onChangehandle}),Object(p.jsx)("button",{onClick:this.upload,children:"upload new ad"})]})}}]),a}(n.Component),f=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).onClickhandle=function(e){return function(){n.props.selectId(e),n.setState({step:2})}},n.state={data:[],step:1},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;O.a.get("http://localhost:8000/getads").then((function(t){e.setState({data:t.data})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.step;console.log(a);var c=a.map((function(t){return Object(p.jsxs)("div",{onClick:e.onClickhandle(t.id),children:[Object(p.jsx)("img",{src:"http://localhost:8000/ads/".concat(t.file),width:"150",height:"150"}),Object(p.jsxs)("h4",{children:["id:",t.id]})]})}));switch(n){case 1:return Object(p.jsx)("div",{children:c});case 2:return Object(p.jsx)(h.a,{to:"delete"})}}}]),a}(n.Component),_=a(20),y=a.n(_),C=a(33),k=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).onChangehandle=function(e){return function(t){var a=t.target.value,c=n.state.data;c[e]=a,n.setState({data:c})}},n.submit=function(){var e=localStorage.getItem("domain_name");O.a.post("http://localhost:8000/custom",{data:n.state.data,domain_name:e}),n.props.getdata()},n.state={data:{Ad_id:n.props.id}},n}return Object(r.a)(a,[{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),"pages",Object(p.jsxs)("select",{onChange:this.onChangehandle("page_id"),children:[Object(p.jsx)("option",{value:1,children:"Blog/javascript"}),Object(p.jsx)("option",{value:2,children:"Blog/diwali"}),Object(p.jsx)("option",{value:3,children:"Blog/prakash"}),Object(p.jsx)("option",{value:4,children:"Blog/react"}),Object(p.jsx)("option",{value:5,children:"about"}),Object(p.jsx)("option",{value:6,children:"RegisterPage"}),Object(p.jsx)("option",{value:7,children:"services"}),Object(p.jsx)("option",{value:8,children:"contact"}),Object(p.jsx)("option",{value:9,children:"Bloglist"}),Object(p.jsx)("option",{value:10,children:"Home"}),Object(p.jsx)("option",{value:11,children:"Loginpage"})]})]}),Object(p.jsx)("button",{onClick:this.submit,children:"add"})]})}}]),a}(n.Component),S=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).getdata=function(){O.a.post("http://localhost:8000/getdata",{Ad_id:n.props.selectedId,domain_name:localStorage.getItem("domain_name")}).then((function(e){e.data.ads_row.file="http://localhost:8000/ads/".concat(e.data.ads_row.file),n.setState({ads:e.data.ads_row,custom:e.data.custom_row,label:e.data.label_row})}))},n.delete=Object(C.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("http://localhost:8000/delete",{id:n.state.ads.id,Labeltable:"ad_label",Customtable:"ad_custom"});case 2:n.setState({step:2});case 3:case"end":return e.stop()}}),e)}))),n.adHandle=function(e){return function(t){var a=t.target.value,c=n.state.labelData;c[e]=a,n.setState({labelData:c})}},n.submit=function(){O.a.post("http://localhost:8000/label",{data:n.state.labelData}),n.getdata()},n.state={step:1,ads:{id:n.props.selectedId,file:""},custom:[],label:[],labelData:{Ad_id:n.props.selectedId}},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.getdata()}},{key:"render",value:function(){var e=this.state,t=e.ads,a=e.custom,n=e.label,c=e.step,i=Object(p.jsx)("tr",{children:Object(p.jsx)("td",{children:Object(p.jsx)("img",{src:t.file})})}),s=a.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.Domain_id}),Object(p.jsx)("td",{children:e.page_id})]})})),d=n.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.age_group}),Object(p.jsx)("td",{children:e.city})]})}));switch(c){case 1:return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"ID"}),"  ",Object(p.jsx)("h2",{children:t.id}),Object(p.jsxs)("table",{children:[Object(p.jsx)("tr",{children:Object(p.jsx)("th",{children:"ads"})}),i]}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)("h2",{children:"ad custom"}),Object(p.jsx)(k,{id:this.state.ads.id,getdata:this.getdata}),Object(p.jsxs)("table",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Domain_id"}),Object(p.jsx)("th",{children:"page_id"})]}),s]}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)("h1",{children:"ad Label"}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),"age_group",Object(p.jsxs)("select",{name:"age_group",onChange:this.adHandle("age_group"),children:[Object(p.jsx)("option",{name:"city",value:1,children:"1-18"}),Object(p.jsx)("option",{name:"city",value:2,children:"18-25"}),Object(p.jsx)("option",{name:"city",value:3,children:"25-40"})]})]}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsxs)("div",{children:["CITY",Object(p.jsxs)("select",{name:"city",onChange:this.adHandle("city"),children:[Object(p.jsx)("option",{name:"city",value:"chennai",children:"chennai"}),Object(p.jsx)("option",{name:"city",value:"coimbatore",children:"coimbatore"}),Object(p.jsx)("option",{name:"city",value:"nellai",children:"nellai"})]})]}),Object(p.jsx)("button",{onClick:this.submit,children:"add"})]}),Object(p.jsxs)("table",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"age_group"}),Object(p.jsx)("th",{children:"city"})]}),d]}),Object(p.jsx)("button",{onClick:this.delete,children:"Delete"})]});case 2:return Object(p.jsx)(h.a,{to:"deletePage"})}}}]),a}(n.Component),w=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).search=function(){console.log(n.state.formdata);var e=n.filterdata(n.state.formdata);console.log(e),O.a.post("http://localhost:8000/servedata",{data:e}).then((function(e){console.log(e.data),n.setState({data:e.data})}))},n.onChangeHandle=function(e){return function(t){var a=t.target.value,c=n.state.formdata;c[e]=a,n.setState({formdata:c})}},n.onCheck=function(e){var t=n.state.formdata;e.target.checked?t[e.target.name]=1:t[e.target.name]=0},n.datehandle=function(e){var t=n.state.formdata,a=function(e,t,a){function n(t){return new Intl.DateTimeFormat("en",t).format(e)}return t.map(n).join(a)}(e.target.valueAsDate,[{year:"numeric"},{month:"2-digit"},{day:"2-digit"}],"-");t[e.target.name]=a,n.setState({formdata:t})},n.state={formdata:{},data:[]},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.search()}},{key:"filterdata",value:function(e){var t={domain_name:localStorage.getItem("domain_name")};return"age_group"in e&&""!==e.age_group&&(t.age_group=e.age_group),"city"in e&&""!==e.city&&(t.city=e.city),"from_date"in e&&""!==e.from_date&&(t.from_date=e.from_date),"to_date"in e&&""!==e.to_date&&(t.to_date=e.to_date),"clicked"in e&&""!==e.clicked&&(t.clicked=e.clicked),t}},{key:"render",value:function(){var e=this.state.data.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.id}),Object(p.jsx)("td",{children:e.Ad_id}),Object(p.jsx)("td",{children:e.domain_id}),Object(p.jsx)("td",{children:e.page_id}),Object(p.jsx)("td",{children:e.user}),Object(p.jsx)("td",{children:e.age_group}),Object(p.jsx)("td",{children:e.city}),Object(p.jsx)("td",{children:e.served_time}),Object(p.jsx)("td",{children:e.ip_address}),Object(p.jsx)("td",{children:e.clicked})]},e.id)}));return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{type:"checkbox",name:"clicked",onChange:this.onCheck}),"Clicked report age_group",Object(p.jsxs)("select",{name:"age_group",onChange:this.onChangeHandle("age_group"),children:[Object(p.jsx)("option",{value:1,children:"1-18"}),Object(p.jsx)("option",{value:2,children:"18-25"}),Object(p.jsx)("option",{value:3,children:"25-40"})]}),"CITY",Object(p.jsxs)("select",{name:"city",onChange:this.onChangeHandle("city"),children:[Object(p.jsx)("option",{name:"city",value:"chennai",children:"chennai"}),Object(p.jsx)("option",{name:"city",value:"coimbatore",children:"coimbatore"}),Object(p.jsx)("option",{name:"city",value:"nellai",children:"nellai"})]}),"from date ",Object(p.jsx)("input",{type:"date",name:"from_date",onChange:this.datehandle}),"to date ",Object(p.jsx)("input",{type:"date",name:"to_date",onChange:this.datehandle}),Object(p.jsx)("button",{onClick:this.search,children:"search"})]}),Object(p.jsxs)("table",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"id"}),Object(p.jsx)("th",{children:"Ad id"}),Object(p.jsx)("th",{children:"domain id"}),Object(p.jsx)("th",{children:"page id"}),Object(p.jsx)("th",{children:"user"}),Object(p.jsx)("th",{children:"age group"}),Object(p.jsx)("th",{children:"city"}),Object(p.jsx)("th",{children:"served time"}),Object(p.jsx)("th",{children:"ip address"}),Object(p.jsx)("th",{children:"clicked"})]}),e]})]})}}]),a}(n.Component);var I=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).setAppState=function(e,t){localStorage.setItem("domain_name",e),localStorage.setItem("password",t)},e.selectId=function(t){console.log(t),e.setState({selectedId:t})},e.state={selectedId:""},e}return Object(r.a)(a,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(j.a,{children:Object(p.jsxs)("div",{children:[Object(p.jsx)(h.b,{exact:!0,path:"/",children:Object(p.jsx)(x,{setAppState:this.setAppState})}),Object(p.jsx)(h.b,{path:"/AdminList",component:m}),Object(p.jsx)(h.b,{path:"/admin",component:v}),Object(p.jsx)(h.b,{path:"/deletePage",children:Object(p.jsx)(f,{selectId:this.selectId})}),Object(p.jsx)(h.b,{path:"/delete",children:Object(p.jsx)(S,{selectedId:this.state.selectedId})}),Object(p.jsx)(h.b,{path:"/ServedData",component:w})]})})})}}]),a}(c.a.Component),D=document.getElementById("root");s.a.render(Object(p.jsx)(n.StrictMode,{children:Object(p.jsx)(I,{})}),D)}},[[65,1,2]]]);
//# sourceMappingURL=main.edf02cd1.chunk.js.map